"2021-05-31 21:37:14 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65211 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:37:14 - No active profile set, falling back to default profiles: default
""2021-05-31 21:37:14 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:37:15 - Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:37:15 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:37:16 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:37:16 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:37:16 - HikariPool-1 - Starting...
""2021-05-31 21:37:16 - HikariPool-1 - Start completed.
""2021-05-31 21:37:16 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:37:17 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:37:17 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:17 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:37:18 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ad0cd43, org.springframework.security.web.context.SecurityContextPersistenceFilter@2123a61c, org.springframework.security.web.header.HeaderWriterFilter@69356aca, org.springframework.security.web.authentication.logout.LogoutFilter@210e2f2f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56b48163, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b74bb75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43cc7951, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7de43652, org.springframework.security.web.session.SessionManagementFilter@7ce760af, org.springframework.security.web.access.ExceptionTranslationFilter@5b31a9e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22d47f09]
""2021-05-31 21:37:18 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:19 - Started CreditCardServiceTest in 5.294 seconds (JVM running for 7.118)
""2021-05-31 21:37:19 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65211 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:37:19 - No active profile set, falling back to default profiles: default
""2021-05-31 21:37:19 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:37:19 - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:37:19 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:37:19 - HikariPool-2 - Starting...
""2021-05-31 21:37:19 - HikariPool-2 - Start completed.
""2021-05-31 21:37:19 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:37:20 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:37:20 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:20 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:37:20 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dceec83, org.springframework.security.web.context.SecurityContextPersistenceFilter@139da216, org.springframework.security.web.header.HeaderWriterFilter@2f6f2d91, org.springframework.security.web.authentication.logout.LogoutFilter@1ef8f7e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@eccaf1b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a35cccf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ce067bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74b13aa, org.springframework.security.web.session.SessionManagementFilter@1de83be1, org.springframework.security.web.access.ExceptionTranslationFilter@31f90517, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48dfce5c]
""2021-05-31 21:37:20 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:20 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 21:37:20 - Initializing Servlet ''
""2021-05-31 21:37:20 - Completed initialization in 1 ms
""2021-05-31 21:37:20 - Started AccountControllerMvcTest in 1.776 seconds (JVM running for 8.961)
""2021-05-31 21:37:21 - HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@f1b006b<rs=HikariProxyResultSet@1364688840 wrapping org.postgresql.jdbc.PgResultSet@2c2dfde3>
""2021-05-31 21:37:21 - HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
""2021-05-31 21:37:22 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 21:37:22 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65211 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:37:22 - No active profile set, falling back to default profiles: default
""2021-05-31 21:37:22 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:37:22 - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:37:22 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:37:22 - HikariPool-3 - Starting...
""2021-05-31 21:37:22 - HikariPool-3 - Start completed.
""2021-05-31 21:37:22 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:37:23 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:37:23 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:23 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:37:23 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a6cb2c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@7424a39e, org.springframework.security.web.header.HeaderWriterFilter@6a4bd9e4, org.springframework.security.web.authentication.logout.LogoutFilter@18e4bbec, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@295f115d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2526ecb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1196950e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c32f3d8, org.springframework.security.web.session.SessionManagementFilter@8ea1521, org.springframework.security.web.access.ExceptionTranslationFilter@4602fa2f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78405f00]
""2021-05-31 21:37:23 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:23 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 21:37:23 - Initializing Servlet ''
""2021-05-31 21:37:23 - Completed initialization in 0 ms
""2021-05-31 21:37:23 - Started MainControllerMvcTest in 1.174 seconds (JVM running for 11.848)
""2021-05-31 21:37:23 - Main page
""2021-05-31 21:37:24 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65211 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:37:24 - No active profile set, falling back to default profiles: default
""2021-05-31 21:37:24 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:37:24 - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:37:24 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:37:24 - HikariPool-4 - Starting...
""2021-05-31 21:37:24 - HikariPool-4 - Start completed.
""2021-05-31 21:37:24 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:37:24 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:37:24 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:24 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:37:24 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c66be14, org.springframework.security.web.context.SecurityContextPersistenceFilter@60232aad, org.springframework.security.web.header.HeaderWriterFilter@1170d81f, org.springframework.security.web.authentication.logout.LogoutFilter@6cd8aee2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17caf362, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@380f9c1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fa81b23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e78213c, org.springframework.security.web.session.SessionManagementFilter@5c5cd332, org.springframework.security.web.access.ExceptionTranslationFilter@64078e6a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75044df3]
""2021-05-31 21:37:24 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:25 - Started UserServiceTest in 1.175 seconds (JVM running for 13.268)
""2021-05-31 21:37:25 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:25 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:25 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:25 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:37:25 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:25 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:25 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:25 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:37:25 - HikariPool-3 - Shutdown initiated...
""2021-05-31 21:37:25 - HikariPool-4 - Shutdown initiated...
""2021-05-31 21:37:25 - HikariPool-1 - Shutdown initiated...
""2021-05-31 21:37:25 - HikariPool-2 - Shutdown initiated...
""2021-05-31 21:37:25 - HikariPool-4 - Shutdown completed.
""2021-05-31 21:37:25 - HikariPool-3 - Shutdown completed.
""2021-05-31 21:37:25 - HikariPool-1 - Shutdown completed.
""2021-05-31 21:37:25 - HikariPool-2 - Shutdown completed.
""2021-05-31 21:39:57 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65771 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:39:57 - No active profile set, falling back to default profiles: default
""2021-05-31 21:39:58 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:39:58 - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:39:59 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:39:59 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:39:59 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:39:59 - HikariPool-1 - Starting...
""2021-05-31 21:39:59 - HikariPool-1 - Start completed.
""2021-05-31 21:39:59 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:39:59 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:39:59 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:00 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:40:00 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fe9adfb, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b6b466a, org.springframework.security.web.header.HeaderWriterFilter@a11efe6, org.springframework.security.web.authentication.logout.LogoutFilter@4840ec68, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b6b746b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e5c7cd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@779ef5cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f8fe81e, org.springframework.security.web.session.SessionManagementFilter@7a17ffee, org.springframework.security.web.access.ExceptionTranslationFilter@1a7437d8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@a20898c]
""2021-05-31 21:40:01 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:01 - Started CreditCardServiceTest in 4.964 seconds (JVM running for 6.318)
""2021-05-31 21:40:01 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65771 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:40:01 - No active profile set, falling back to default profiles: default
""2021-05-31 21:40:02 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:40:02 - Finished Spring Data repository scanning in 23 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:40:02 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:40:02 - HikariPool-2 - Starting...
""2021-05-31 21:40:02 - HikariPool-2 - Start completed.
""2021-05-31 21:40:02 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:40:02 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:40:02 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:02 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:40:02 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12faeada, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c34ce24, org.springframework.security.web.header.HeaderWriterFilter@56c7e2d1, org.springframework.security.web.authentication.logout.LogoutFilter@31f90517, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@137a9d69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58f8ce0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31406eab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73a5cc47, org.springframework.security.web.session.SessionManagementFilter@2e549515, org.springframework.security.web.access.ExceptionTranslationFilter@71d0ad00, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d5b2c1e]
""2021-05-31 21:40:03 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:03 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 21:40:03 - Initializing Servlet ''
""2021-05-31 21:40:03 - Completed initialization in 1 ms
""2021-05-31 21:40:03 - Started AccountControllerMvcTest in 1.668 seconds (JVM running for 8.049)
""2021-05-31 21:40:05 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 21:40:05 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65771 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:40:05 - No active profile set, falling back to default profiles: default
""2021-05-31 21:40:05 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:40:05 - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:40:05 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:40:05 - HikariPool-3 - Starting...
""2021-05-31 21:40:05 - HikariPool-3 - Start completed.
""2021-05-31 21:40:05 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:40:05 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:40:05 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:05 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:40:05 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64d49e35, org.springframework.security.web.context.SecurityContextPersistenceFilter@835718b, org.springframework.security.web.header.HeaderWriterFilter@6554f841, org.springframework.security.web.authentication.logout.LogoutFilter@2c3762c7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@663d59ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e6dc94c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c39ba30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@665902eb, org.springframework.security.web.session.SessionManagementFilter@1bef1304, org.springframework.security.web.access.ExceptionTranslationFilter@35427786, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@63fcbf75]
""2021-05-31 21:40:06 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:06 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 21:40:06 - Initializing Servlet ''
""2021-05-31 21:40:06 - Completed initialization in 0 ms
""2021-05-31 21:40:06 - Started MainControllerMvcTest in 1.135 seconds (JVM running for 10.941)
""2021-05-31 21:40:06 - Main page
""2021-05-31 21:40:06 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 65771 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:40:06 - No active profile set, falling back to default profiles: default
""2021-05-31 21:40:06 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:40:06 - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:40:06 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:40:06 - HikariPool-4 - Starting...
""2021-05-31 21:40:06 - HikariPool-4 - Start completed.
""2021-05-31 21:40:06 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:40:06 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:40:06 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:06 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:40:07 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51ba8929, org.springframework.security.web.context.SecurityContextPersistenceFilter@3df88502, org.springframework.security.web.header.HeaderWriterFilter@47bcb545, org.springframework.security.web.authentication.logout.LogoutFilter@61defefb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7daecd21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@591b9836, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b2f18cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30b5225b, org.springframework.security.web.session.SessionManagementFilter@2899745e, org.springframework.security.web.access.ExceptionTranslationFilter@1def2d16, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40597c95]
""2021-05-31 21:40:07 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:07 - Started UserServiceTest in 1.039 seconds (JVM running for 12.157)
""2021-05-31 21:40:07 - Tour Best Tour was saved
""2021-05-31 21:40:07 - SQL Error: 0, SQLState: 23505
""2021-05-31 21:40:07 - ERROR: duplicate key value violates unique constraint "tour_pkey"
  Подробности: Key (id)=(1) already exists.
""2021-05-31 21:40:07 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:07 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:07 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:07 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:40:07 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:07 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:07 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:07 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:40:07 - HikariPool-4 - Shutdown initiated...
""2021-05-31 21:40:07 - HikariPool-2 - Shutdown initiated...
""2021-05-31 21:40:07 - HikariPool-1 - Shutdown initiated...
""2021-05-31 21:40:07 - HikariPool-3 - Shutdown initiated...
""2021-05-31 21:40:07 - HikariPool-1 - Shutdown completed.
""2021-05-31 21:40:07 - HikariPool-2 - Shutdown completed.
""2021-05-31 21:40:07 - HikariPool-4 - Shutdown completed.
""2021-05-31 21:40:07 - HikariPool-3 - Shutdown completed.
""2021-05-31 21:42:17 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 66281 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:42:17 - No active profile set, falling back to default profiles: default
""2021-05-31 21:42:17 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2021-05-31 21:42:17 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2021-05-31 21:42:17 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:42:17 - Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:42:18 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 21:42:18 - Starting service [Tomcat]
""2021-05-31 21:42:18 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 21:42:18 - Initializing Spring embedded WebApplicationContext
""2021-05-31 21:42:18 - Root WebApplicationContext: initialization completed in 1353 ms
""2021-05-31 21:42:18 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:42:18 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:42:18 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:42:18 - HikariPool-1 - Starting...
""2021-05-31 21:42:18 - HikariPool-1 - Start completed.
""2021-05-31 21:42:18 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:42:19 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:42:19 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:42:19 - LiveReload server is running on port 35729
""2021-05-31 21:42:20 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:42:20 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3edba202, org.springframework.security.web.context.SecurityContextPersistenceFilter@428198fc, org.springframework.security.web.header.HeaderWriterFilter@b0e3c2c, org.springframework.security.web.authentication.logout.LogoutFilter@36b7602, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f03a930, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39264cd1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1341b596, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c8c3b16, org.springframework.security.web.session.SessionManagementFilter@6a57cdad, org.springframework.security.web.access.ExceptionTranslationFilter@3630be01, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c4324fe]
""2021-05-31 21:42:20 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:42:20 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8081 is already in use
""2021-05-31 21:42:20 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:42:20 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:42:20 - HikariPool-1 - Shutdown initiated...
""2021-05-31 21:42:20 - HikariPool-1 - Shutdown completed.
""2021-05-31 21:42:20 - Stopping service [Tomcat]
""2021-05-31 21:42:20 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
""2021-05-31 21:42:20 - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

""2021-05-31 21:42:43 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 66397 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:42:43 - No active profile set, falling back to default profiles: default
""2021-05-31 21:42:44 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2021-05-31 21:42:44 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2021-05-31 21:42:44 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:42:44 - Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:42:45 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 21:42:45 - Starting service [Tomcat]
""2021-05-31 21:42:45 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 21:42:45 - Initializing Spring embedded WebApplicationContext
""2021-05-31 21:42:45 - Root WebApplicationContext: initialization completed in 1209 ms
""2021-05-31 21:42:45 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:42:45 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:42:45 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:42:45 - HikariPool-1 - Starting...
""2021-05-31 21:42:45 - HikariPool-1 - Start completed.
""2021-05-31 21:42:45 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:42:46 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:42:46 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:42:46 - LiveReload server is running on port 35729
""2021-05-31 21:42:46 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:42:46 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e5d0b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@74fbb89, org.springframework.security.web.header.HeaderWriterFilter@30dc53c8, org.springframework.security.web.authentication.logout.LogoutFilter@27c67d07, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e017140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c7a7ddb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20dd5720, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@250c91c6, org.springframework.security.web.session.SessionManagementFilter@673240fe, org.springframework.security.web.access.ExceptionTranslationFilter@78dc3b41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@566bdf4]
""2021-05-31 21:42:46 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:42:47 - Tomcat started on port(s): 8081 (http) with context path ''
""2021-05-31 21:42:47 - Started Application in 3.603 seconds (JVM running for 4.384)
""2021-05-31 21:43:12 - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2021-05-31 21:43:12 - Initializing Servlet 'dispatcherServlet'
""2021-05-31 21:43:12 - Completed initialization in 2 ms
""2021-05-31 21:43:12 - Main page
""2021-05-31 21:43:26 - Main page
""2021-05-31 21:43:38 - Error executing FreeMarker template
"freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:620)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:876)
	at freemarker.core.Environment.invokeMacro(Environment.java:812)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:84)
	at freemarker.core.Environment.visit(Environment.java:334)
	at freemarker.core.Environment.visit(Environment.java:340)
	at freemarker.core.Environment.process(Environment.java:313)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1393)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
"2021-05-31 21:43:38 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----] with root cause
"freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:620)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:876)
	at freemarker.core.Environment.invokeMacro(Environment.java:812)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:84)
	at freemarker.core.Environment.visit(Environment.java:334)
	at freemarker.core.Environment.visit(Environment.java:340)
	at freemarker.core.Environment.process(Environment.java:313)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1393)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
"2021-05-31 21:43:38 - Cannot render error page for request [/user-account] and exception [The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----] as the response has already been committed. As a result, the response may have the wrong status code.
""2021-05-31 21:43:55 - Error executing FreeMarker template
"freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:620)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:876)
	at freemarker.core.Environment.invokeMacro(Environment.java:812)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:84)
	at freemarker.core.Environment.visit(Environment.java:334)
	at freemarker.core.Environment.visit(Environment.java:340)
	at freemarker.core.Environment.process(Environment.java:313)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1393)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
"2021-05-31 21:43:55 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----] with root cause
"freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:620)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:876)
	at freemarker.core.Environment.invokeMacro(Environment.java:812)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:84)
	at freemarker.core.Environment.visit(Environment.java:334)
	at freemarker.core.Environment.visit(Environment.java:340)
	at freemarker.core.Environment.process(Environment.java:313)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1393)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
"2021-05-31 21:43:55 - Cannot render error page for request [/user-account] and exception [The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----] as the response has already been committed. As a result, the response may have the wrong status code.
""2021-05-31 21:43:59 - Error executing FreeMarker template
"freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:620)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:876)
	at freemarker.core.Environment.invokeMacro(Environment.java:812)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:84)
	at freemarker.core.Environment.visit(Environment.java:334)
	at freemarker.core.Environment.visit(Environment.java:340)
	at freemarker.core.Environment.process(Environment.java:313)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1393)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
"2021-05-31 21:43:59 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----] with root cause
"freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134)
	at freemarker.core.UnexpectedTypeException.newDescriptionBuilder(UnexpectedTypeException.java:85)
	at freemarker.core.UnexpectedTypeException.<init>(UnexpectedTypeException.java:48)
	at freemarker.core.NonHashException.<init>(NonHashException.java:49)
	at freemarker.core.Dot._eval(Dot.java:48)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.MethodCall._eval(MethodCall.java:55)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:100)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:620)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:370)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:876)
	at freemarker.core.Environment.invokeMacro(Environment.java:812)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:84)
	at freemarker.core.Environment.visit(Environment.java:334)
	at freemarker.core.Environment.visit(Environment.java:340)
	at freemarker.core.Environment.process(Environment.java:313)
	at freemarker.template.Template.process(Template.java:383)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:391)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:304)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:255)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:179)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1393)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
"2021-05-31 21:43:59 - Cannot render error page for request [/user-account] and exception [The following has evaluated to null or missing:
==> user  [in template "userAccount.ftlh" at line 4, column 9]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${user.getUsername()}  [in template "userAccount.ftlh" at line 4, column 7]
	~ Reached through: #nested  [in template "parts/common.ftlh" in macro "main" at line 24, column 3]
	~ Reached through: @c.main  [in template "userAccount.ftlh" at line 2, column 1]
----] as the response has already been committed. As a result, the response may have the wrong status code.
""2021-05-31 21:45:07 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:45:07 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:45:07 - HikariPool-1 - Shutdown initiated...
""2021-05-31 21:45:07 - HikariPool-1 - Shutdown completed.
""2021-05-31 21:46:59 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 67266 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:46:59 - No active profile set, falling back to default profiles: default
""2021-05-31 21:46:59 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2021-05-31 21:46:59 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2021-05-31 21:47:00 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:47:00 - Finished Spring Data repository scanning in 43 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:47:01 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 21:47:01 - Starting service [Tomcat]
""2021-05-31 21:47:01 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 21:47:01 - Initializing Spring embedded WebApplicationContext
""2021-05-31 21:47:01 - Root WebApplicationContext: initialization completed in 1419 ms
""2021-05-31 21:47:01 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:47:01 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:47:01 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:47:01 - HikariPool-1 - Starting...
""2021-05-31 21:47:01 - HikariPool-1 - Start completed.
""2021-05-31 21:47:01 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:47:02 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:47:02 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:47:02 - LiveReload server is running on port 35729
""2021-05-31 21:47:02 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:47:02 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a90743, org.springframework.security.web.context.SecurityContextPersistenceFilter@22e4750b, org.springframework.security.web.header.HeaderWriterFilter@225d1ad4, org.springframework.security.web.authentication.logout.LogoutFilter@6d3558a1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f00dcc2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a156455, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7dd6524c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6705ee51, org.springframework.security.web.session.SessionManagementFilter@be572bd, org.springframework.security.web.access.ExceptionTranslationFilter@4e6ba1f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34c07a58]
""2021-05-31 21:47:02 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:47:02 - Tomcat started on port(s): 8081 (http) with context path ''
""2021-05-31 21:47:02 - Started Application in 3.735 seconds (JVM running for 4.859)
""2021-05-31 21:47:11 - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2021-05-31 21:47:11 - Initializing Servlet 'dispatcherServlet'
""2021-05-31 21:47:11 - Completed initialization in 1 ms
""2021-05-31 21:50:35 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:50:35 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:50:35 - HikariPool-1 - Shutdown initiated...
""2021-05-31 21:50:35 - HikariPool-1 - Shutdown completed.
""2021-05-31 21:50:39 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 67944 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:50:39 - No active profile set, falling back to default profiles: default
""2021-05-31 21:50:39 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2021-05-31 21:50:39 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2021-05-31 21:50:39 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:50:39 - Finished Spring Data repository scanning in 41 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:50:40 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 21:50:40 - Starting service [Tomcat]
""2021-05-31 21:50:40 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 21:50:40 - Initializing Spring embedded WebApplicationContext
""2021-05-31 21:50:40 - Root WebApplicationContext: initialization completed in 1228 ms
""2021-05-31 21:50:40 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:50:40 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:50:40 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:50:40 - HikariPool-1 - Starting...
""2021-05-31 21:50:40 - HikariPool-1 - Start completed.
""2021-05-31 21:50:40 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:50:41 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:50:41 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:50:41 - LiveReload server is running on port 35729
""2021-05-31 21:50:41 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:50:41 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d5149d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@34b5ccd, org.springframework.security.web.header.HeaderWriterFilter@ef03523, org.springframework.security.web.authentication.logout.LogoutFilter@6bcce15c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78fe0a94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@751ee0ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@445ae45f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7214494a, org.springframework.security.web.session.SessionManagementFilter@69459c77, org.springframework.security.web.access.ExceptionTranslationFilter@fedcda6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f40b2f3]
""2021-05-31 21:50:42 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:50:42 - Tomcat started on port(s): 8081 (http) with context path ''
""2021-05-31 21:50:42 - Started Application in 3.559 seconds (JVM running for 4.289)
""2021-05-31 21:50:47 - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2021-05-31 21:50:47 - Initializing Servlet 'dispatcherServlet'
""2021-05-31 21:50:47 - Completed initialization in 2 ms
""2021-05-31 21:51:05 - Main page
""2021-05-31 21:51:27 - Main page
""2021-05-31 21:54:06 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:54:06 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:54:06 - HikariPool-1 - Shutdown initiated...
""2021-05-31 21:54:06 - HikariPool-1 - Shutdown completed.
""2021-05-31 21:54:10 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 68620 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 21:54:10 - No active profile set, falling back to default profiles: default
""2021-05-31 21:54:10 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2021-05-31 21:54:10 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2021-05-31 21:54:10 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 21:54:10 - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
""2021-05-31 21:54:11 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 21:54:11 - Starting service [Tomcat]
""2021-05-31 21:54:11 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 21:54:11 - Initializing Spring embedded WebApplicationContext
""2021-05-31 21:54:11 - Root WebApplicationContext: initialization completed in 1160 ms
""2021-05-31 21:54:11 - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [89CE47658DC19B277DD97ADA9F9C06E3]
""2021-05-31 21:54:11 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 21:54:11 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 21:54:11 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 21:54:11 - HikariPool-1 - Starting...
""2021-05-31 21:54:11 - HikariPool-1 - Start completed.
""2021-05-31 21:54:11 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 21:54:12 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 21:54:12 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 21:54:12 - LiveReload server is running on port 35729
""2021-05-31 21:54:12 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 21:54:13 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d08600e, org.springframework.security.web.context.SecurityContextPersistenceFilter@414831af, org.springframework.security.web.header.HeaderWriterFilter@58dbb967, org.springframework.security.web.authentication.logout.LogoutFilter@627a4b37, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7663ccc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3571bbd1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2882f830, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23852ac, org.springframework.security.web.session.SessionManagementFilter@52ec117c, org.springframework.security.web.access.ExceptionTranslationFilter@2f089f8f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@161d6b47]
""2021-05-31 21:54:13 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 21:54:13 - Tomcat started on port(s): 8081 (http) with context path ''
""2021-05-31 21:54:13 - Started Application in 3.579 seconds (JVM running for 4.458)
""2021-05-31 21:54:23 - Initializing Spring DispatcherServlet 'dispatcherServlet'
""2021-05-31 21:54:23 - Initializing Servlet 'dispatcherServlet'
""2021-05-31 21:54:23 - Completed initialization in 1 ms
""2021-05-31 21:54:35 - Main page
""2021-05-31 22:20:48 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:20:48 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:20:48 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:20:48 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:20:48 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 68620 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:20:48 - No active profile set, falling back to default profiles: default
""2021-05-31 22:20:48 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:20:48 - Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:20:48 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 22:20:48 - Starting service [Tomcat]
""2021-05-31 22:20:48 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 22:20:48 - Initializing Spring embedded WebApplicationContext
""2021-05-31 22:20:48 - Root WebApplicationContext: initialization completed in 640 ms
""2021-05-31 22:20:49 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:20:49 - HikariPool-2 - Starting...
""2021-05-31 22:20:49 - HikariPool-2 - Start completed.
""2021-05-31 22:20:49 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:20:49 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:20:49 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:20:49 - LiveReload server is running on port 35729
""2021-05-31 22:20:49 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:20:49 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4636ebc3, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c597309, org.springframework.security.web.header.HeaderWriterFilter@1974801, org.springframework.security.web.authentication.logout.LogoutFilter@3c535e98, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7031d0ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d4b32c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76a7bc2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44fcf850, org.springframework.security.web.session.SessionManagementFilter@55990cdd, org.springframework.security.web.access.ExceptionTranslationFilter@3ccda1c4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46758cca]
""2021-05-31 22:20:49 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:20:49 - Tomcat started on port(s): 8081 (http) with context path ''
""2021-05-31 22:20:49 - Started Application in 1.522 seconds (JVM running for 1600.713)
""2021-05-31 22:20:49 - Condition evaluation unchanged
""2021-05-31 22:20:50 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 73695 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:20:50 - No active profile set, falling back to default profiles: default
""2021-05-31 22:20:50 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
""2021-05-31 22:20:50 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
""2021-05-31 22:20:51 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:20:51 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:20:51 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:20:51 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:20:51 - Starting Application using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 68620 (/Users/roman/IdeaProjects/ehotel/target/classes started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:20:51 - No active profile set, falling back to default profiles: default
""2021-05-31 22:20:51 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:20:51 - Finished Spring Data repository scanning in 61 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:20:51 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:20:51 - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:20:51 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 22:20:51 - Starting service [Tomcat]
""2021-05-31 22:20:51 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 22:20:51 - Initializing Spring embedded WebApplicationContext
""2021-05-31 22:20:51 - Root WebApplicationContext: initialization completed in 348 ms
""2021-05-31 22:20:51 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:20:51 - HikariPool-3 - Starting...
""2021-05-31 22:20:51 - HikariPool-3 - Start completed.
""2021-05-31 22:20:51 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:20:51 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:20:51 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:20:51 - LiveReload server is running on port 35729
""2021-05-31 22:20:51 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:20:51 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b1668b5, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e95c031, org.springframework.security.web.header.HeaderWriterFilter@24180d1a, org.springframework.security.web.authentication.logout.LogoutFilter@9641bc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@73ce5acf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c2a3200, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58be8842, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d61c31b, org.springframework.security.web.session.SessionManagementFilter@1547b46a, org.springframework.security.web.access.ExceptionTranslationFilter@1ebf9c47, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1216fc32]
""2021-05-31 22:20:52 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:20:52 - Tomcat initialized with port(s): 8081 (http)
""2021-05-31 22:20:52 - Starting service [Tomcat]
""2021-05-31 22:20:52 - Starting Servlet engine: [Apache Tomcat/9.0.41]
""2021-05-31 22:20:52 - Tomcat started on port(s): 8081 (http) with context path ''
""2021-05-31 22:20:52 - Started Application in 0.866 seconds (JVM running for 1603.061)
""2021-05-31 22:20:52 - Condition evaluation unchanged
""2021-05-31 22:20:52 - Initializing Spring embedded WebApplicationContext
""2021-05-31 22:20:52 - Root WebApplicationContext: initialization completed in 1849 ms
""2021-05-31 22:20:52 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:20:52 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:20:52 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:20:52 - HikariPool-1 - Starting...
""2021-05-31 22:20:52 - HikariPool-1 - Start completed.
""2021-05-31 22:20:52 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:20:53 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:20:53 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:20:53 - Unable to start LiveReload server
""2021-05-31 22:20:53 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:20:53 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@583b3755, org.springframework.security.web.context.SecurityContextPersistenceFilter@41a47762, org.springframework.security.web.header.HeaderWriterFilter@1585abbc, org.springframework.security.web.authentication.logout.LogoutFilter@37d6f832, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a0907d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8fe7379, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57614ecb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59f67935, org.springframework.security.web.session.SessionManagementFilter@3c5f4ff0, org.springframework.security.web.access.ExceptionTranslationFilter@1c2ab2b3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ee16fc9]
""2021-05-31 22:20:53 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:20:54 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8081 is already in use
""2021-05-31 22:20:54 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:20:54 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:20:54 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:20:54 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:20:54 - Stopping service [Tomcat]
""2021-05-31 22:20:54 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
""2021-05-31 22:20:54 - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

""2021-05-31 22:21:09 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 73775 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:21:09 - No active profile set, falling back to default profiles: default
""2021-05-31 22:21:10 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:21:10 - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:21:11 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:21:11 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:21:11 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:21:11 - HikariPool-1 - Starting...
""2021-05-31 22:21:11 - HikariPool-1 - Start completed.
""2021-05-31 22:21:11 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:21:12 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:21:12 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:12 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:21:13 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19b3d3a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a0c04ab, org.springframework.security.web.header.HeaderWriterFilter@2e5c7cd5, org.springframework.security.web.authentication.logout.LogoutFilter@303db609, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@32121140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@779ef5cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77ad2767, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a9040f0, org.springframework.security.web.session.SessionManagementFilter@675bf541, org.springframework.security.web.access.ExceptionTranslationFilter@6ac83e67, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7164e28a]
""2021-05-31 22:21:13 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:14 - Started CreditCardServiceTest in 4.749 seconds (JVM running for 6.489)
""2021-05-31 22:21:14 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 73775 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:21:14 - No active profile set, falling back to default profiles: default
""2021-05-31 22:21:14 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:21:14 - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:21:14 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:21:14 - HikariPool-2 - Starting...
""2021-05-31 22:21:14 - HikariPool-2 - Start completed.
""2021-05-31 22:21:14 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:21:14 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:21:14 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:15 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:21:15 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@106f0051, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ef8f7e6, org.springframework.security.web.header.HeaderWriterFilter@3ce067bd, org.springframework.security.web.authentication.logout.LogoutFilter@7040d71, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5a0f5567, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a6f1342, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@650d5a3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe687b5, org.springframework.security.web.session.SessionManagementFilter@608b74f3, org.springframework.security.web.access.ExceptionTranslationFilter@6a35cccf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31d09031]
""2021-05-31 22:21:15 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:15 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:21:15 - Initializing Servlet ''
""2021-05-31 22:21:15 - Completed initialization in 1 ms
""2021-05-31 22:21:15 - Started AccountControllerMvcTest in 1.718 seconds (JVM running for 8.286)
""2021-05-31 22:21:17 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:21:17 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 73775 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:21:17 - No active profile set, falling back to default profiles: default
""2021-05-31 22:21:17 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:21:17 - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:21:18 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:21:18 - HikariPool-3 - Starting...
""2021-05-31 22:21:18 - HikariPool-3 - Start completed.
""2021-05-31 22:21:18 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:21:18 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:21:18 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:18 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:21:18 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dec84e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@9b84747, org.springframework.security.web.header.HeaderWriterFilter@142ac60e, org.springframework.security.web.authentication.logout.LogoutFilter@63fcbf75, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@570f96b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1272f6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50aa482f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7985c32f, org.springframework.security.web.session.SessionManagementFilter@43376a03, org.springframework.security.web.access.ExceptionTranslationFilter@665fb1d8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77510da]
""2021-05-31 22:21:18 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:19 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:21:19 - Initializing Servlet ''
""2021-05-31 22:21:19 - Completed initialization in 1 ms
""2021-05-31 22:21:19 - Started MainControllerMvcTest in 1.417 seconds (JVM running for 11.489)
""2021-05-31 22:21:19 - Main page
""2021-05-31 22:21:19 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 73775 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:21:19 - No active profile set, falling back to default profiles: default
""2021-05-31 22:21:19 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:21:19 - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:21:19 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:21:19 - HikariPool-4 - Starting...
""2021-05-31 22:21:19 - HikariPool-4 - Start completed.
""2021-05-31 22:21:19 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:21:19 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:21:19 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:19 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:21:20 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d6c4775, org.springframework.security.web.context.SecurityContextPersistenceFilter@19d483dc, org.springframework.security.web.header.HeaderWriterFilter@23c95292, org.springframework.security.web.authentication.logout.LogoutFilter@7daecd21, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7c5dbca5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18a693de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71120f9a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44929971, org.springframework.security.web.session.SessionManagementFilter@2f43c73a, org.springframework.security.web.access.ExceptionTranslationFilter@2c75b0c8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b477d05]
""2021-05-31 22:21:20 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:20 - Started UserServiceTest in 1.098 seconds (JVM running for 12.757)
""2021-05-31 22:21:20 - Tour Best Tour was saved
""2021-05-31 22:21:20 - SQL Error: 0, SQLState: 23505
""2021-05-31 22:21:20 - ERROR: duplicate key value violates unique constraint "tour_pkey"
  Подробности: Key (id)=(1) already exists.
""2021-05-31 22:21:20 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:20 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:20 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:20 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:21:20 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:20 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:20 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:20 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:21:20 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:21:20 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:21:20 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:21:20 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:21:20 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:21:20 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:21:20 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:21:20 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:22:27 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 74084 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:22:27 - No active profile set, falling back to default profiles: default
""2021-05-31 22:22:28 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:22:28 - Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:22:29 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:22:29 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:22:29 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:22:29 - HikariPool-1 - Starting...
""2021-05-31 22:22:29 - HikariPool-1 - Start completed.
""2021-05-31 22:22:29 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:22:30 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:22:30 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:30 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:22:31 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c81ddab, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e6bbe63, org.springframework.security.web.header.HeaderWriterFilter@4d91d2da, org.springframework.security.web.authentication.logout.LogoutFilter@7e84a52b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@106edde4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ffc4195, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2aac87ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ee6faa, org.springframework.security.web.session.SessionManagementFilter@2d1f3639, org.springframework.security.web.access.ExceptionTranslationFilter@265c0752, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b4228cf]
""2021-05-31 22:22:32 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:32 - Started CreditCardServiceTest in 5.448 seconds (JVM running for 7.672)
""2021-05-31 22:22:32 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 74084 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:22:32 - No active profile set, falling back to default profiles: default
""2021-05-31 22:22:32 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:22:33 - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:22:33 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:22:33 - HikariPool-2 - Starting...
""2021-05-31 22:22:33 - HikariPool-2 - Start completed.
""2021-05-31 22:22:33 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:22:33 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:22:33 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:33 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:22:33 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@650d5a3d, org.springframework.security.web.context.SecurityContextPersistenceFilter@7927209f, org.springframework.security.web.header.HeaderWriterFilter@66075347, org.springframework.security.web.authentication.logout.LogoutFilter@225b460a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5a6f1342, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@283595db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@747476f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e9a9683, org.springframework.security.web.session.SessionManagementFilter@3b45a3e6, org.springframework.security.web.access.ExceptionTranslationFilter@c4bb119, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ef8f7e6]
""2021-05-31 22:22:34 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:34 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:22:34 - Initializing Servlet ''
""2021-05-31 22:22:34 - Completed initialization in 0 ms
""2021-05-31 22:22:34 - Started AccountControllerMvcTest in 1.737 seconds (JVM running for 9.49)
""2021-05-31 22:22:35 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:22:35 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 74084 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:22:35 - No active profile set, falling back to default profiles: default
""2021-05-31 22:22:35 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:22:35 - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:22:36 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:22:36 - HikariPool-3 - Starting...
""2021-05-31 22:22:36 - HikariPool-3 - Start completed.
""2021-05-31 22:22:36 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:22:36 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:22:36 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:36 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:22:36 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4235e01b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c3920a7, org.springframework.security.web.header.HeaderWriterFilter@5f0c04d2, org.springframework.security.web.authentication.logout.LogoutFilter@588b2d7a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3c9e82a6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12e5f7cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2df05bd1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ed096cc, org.springframework.security.web.session.SessionManagementFilter@4ff1f872, org.springframework.security.web.access.ExceptionTranslationFilter@5926f291, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e136445]
""2021-05-31 22:22:36 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:37 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:22:37 - Initializing Servlet ''
""2021-05-31 22:22:37 - Completed initialization in 1 ms
""2021-05-31 22:22:37 - Started MainControllerMvcTest in 1.379 seconds (JVM running for 12.189)
""2021-05-31 22:22:37 - Main page
""2021-05-31 22:22:37 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 74084 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:22:37 - No active profile set, falling back to default profiles: default
""2021-05-31 22:22:37 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:22:37 - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:22:37 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:22:37 - HikariPool-4 - Starting...
""2021-05-31 22:22:37 - HikariPool-4 - Start completed.
""2021-05-31 22:22:37 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:22:37 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:22:37 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:37 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:22:37 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@441e789e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b386ba7, org.springframework.security.web.header.HeaderWriterFilter@71a9e31b, org.springframework.security.web.authentication.logout.LogoutFilter@39889671, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1dd17c0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a41183b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@644e9953, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74a680d3, org.springframework.security.web.session.SessionManagementFilter@18e7b33e, org.springframework.security.web.access.ExceptionTranslationFilter@7bcd497, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c1a9613]
""2021-05-31 22:22:38 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:38 - Started UserServiceTest in 1.152 seconds (JVM running for 13.526)
""2021-05-31 22:22:38 - Tour Best Tour was saved
""2021-05-31 22:22:38 - SQL Error: 0, SQLState: 23505
""2021-05-31 22:22:38 - ERROR: duplicate key value violates unique constraint "tour_pkey"
  Подробности: Key (id)=(1) already exists.
""2021-05-31 22:22:38 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:38 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:38 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:38 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:22:38 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:38 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:38 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:38 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:22:38 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:22:38 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:22:38 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:22:38 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:22:38 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:22:38 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:22:38 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:22:38 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:28:21 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75301 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:28:21 - No active profile set, falling back to default profiles: default
""2021-05-31 22:28:22 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:28:22 - Finished Spring Data repository scanning in 58 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:28:23 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:28:23 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:28:23 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:28:23 - HikariPool-1 - Starting...
""2021-05-31 22:28:23 - HikariPool-1 - Start completed.
""2021-05-31 22:28:23 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:28:24 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:28:24 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:24 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:28:25 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cd1716d, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d91d2da, org.springframework.security.web.header.HeaderWriterFilter@3b590f6a, org.springframework.security.web.authentication.logout.LogoutFilter@9ae0794, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@51efdb72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d1f3639, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b6b466a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e1c5e0d, org.springframework.security.web.session.SessionManagementFilter@9c5d76b, org.springframework.security.web.access.ExceptionTranslationFilter@28fef9a2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7af0693b]
""2021-05-31 22:28:26 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:26 - Started CreditCardServiceTest in 5.219 seconds (JVM running for 6.592)
""2021-05-31 22:28:26 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75301 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:28:26 - No active profile set, falling back to default profiles: default
""2021-05-31 22:28:27 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:28:27 - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:28:27 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:28:27 - HikariPool-2 - Starting...
""2021-05-31 22:28:27 - HikariPool-2 - Start completed.
""2021-05-31 22:28:27 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:28:27 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:28:27 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:27 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:28:27 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bb7fc38, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f143ea, org.springframework.security.web.header.HeaderWriterFilter@5562f297, org.springframework.security.web.authentication.logout.LogoutFilter@786de0a3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34e7a627, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b2c9a69, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19983dd1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27ea7c8f, org.springframework.security.web.session.SessionManagementFilter@64c1a76e, org.springframework.security.web.access.ExceptionTranslationFilter@3fecdd00, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22825762]
""2021-05-31 22:28:27 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:28 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:28:28 - Initializing Servlet ''
""2021-05-31 22:28:28 - Completed initialization in 1 ms
""2021-05-31 22:28:28 - Started AccountControllerMvcTest in 1.494 seconds (JVM running for 8.164)
""2021-05-31 22:28:29 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:28:29 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75301 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:28:29 - No active profile set, falling back to default profiles: default
""2021-05-31 22:28:29 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:28:29 - Finished Spring Data repository scanning in 20 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:28:30 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:28:30 - HikariPool-3 - Starting...
""2021-05-31 22:28:30 - HikariPool-3 - Start completed.
""2021-05-31 22:28:30 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:28:30 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:28:30 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:30 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:28:30 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e6b08d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c0640fa, org.springframework.security.web.header.HeaderWriterFilter@628721ba, org.springframework.security.web.authentication.logout.LogoutFilter@4951c45f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a5922ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c67b7a9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67b6cb6e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40f88929, org.springframework.security.web.session.SessionManagementFilter@67d8e214, org.springframework.security.web.access.ExceptionTranslationFilter@7c6f91d2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20dc2df1]
""2021-05-31 22:28:30 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:30 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:28:30 - Initializing Servlet ''
""2021-05-31 22:28:30 - Completed initialization in 0 ms
""2021-05-31 22:28:30 - Started MainControllerMvcTest in 1.276 seconds (JVM running for 10.909)
""2021-05-31 22:28:30 - Main page
""2021-05-31 22:28:31 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75301 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:28:31 - No active profile set, falling back to default profiles: default
""2021-05-31 22:28:31 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:28:31 - Finished Spring Data repository scanning in 17 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:28:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:28:31 - HikariPool-4 - Starting...
""2021-05-31 22:28:31 - HikariPool-4 - Start completed.
""2021-05-31 22:28:31 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:28:31 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:28:31 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:31 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:28:31 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68fce3e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e753fd6, org.springframework.security.web.header.HeaderWriterFilter@318ff889, org.springframework.security.web.authentication.logout.LogoutFilter@55691a59, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@411c5fa2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51a6af38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f234e35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d2eddc2, org.springframework.security.web.session.SessionManagementFilter@5409305f, org.springframework.security.web.access.ExceptionTranslationFilter@38a2fbc3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e620893]
""2021-05-31 22:28:31 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:32 - Started UserServiceTest in 1.082 seconds (JVM running for 12.165)
""2021-05-31 22:28:32 - Tour Best Tour was saved
""2021-05-31 22:28:32 - SQL Error: 0, SQLState: 23505
""2021-05-31 22:28:32 - ERROR: duplicate key value violates unique constraint "tour_pkey"
  Подробности: Key (id)=(2) already exists.
""2021-05-31 22:28:32 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:32 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:32 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:32 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:28:32 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:32 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:32 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:32 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:28:32 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:28:32 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:28:32 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:28:32 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:28:32 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:28:32 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:28:32 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:28:32 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:31:21 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75926 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:31:21 - No active profile set, falling back to default profiles: default
""2021-05-31 22:31:22 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:31:22 - Finished Spring Data repository scanning in 62 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:31:23 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:31:23 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:31:23 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:31:24 - HikariPool-1 - Starting...
""2021-05-31 22:31:24 - HikariPool-1 - Start completed.
""2021-05-31 22:31:24 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:31:24 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:31:24 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:24 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:31:25 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7de43652, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e5c7cd5, org.springframework.security.web.header.HeaderWriterFilter@7a17ffee, org.springframework.security.web.authentication.logout.LogoutFilter@c31419f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@eb6ccbc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@675bf541, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@758311ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fe0ca60, org.springframework.security.web.session.SessionManagementFilter@3e4636c3, org.springframework.security.web.access.ExceptionTranslationFilter@282240, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28100232]
""2021-05-31 22:31:26 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:26 - Started CreditCardServiceTest in 5.657 seconds (JVM running for 6.943)
""2021-05-31 22:31:27 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75926 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:31:27 - No active profile set, falling back to default profiles: default
""2021-05-31 22:31:27 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:31:27 - Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:31:27 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:31:27 - HikariPool-2 - Starting...
""2021-05-31 22:31:27 - HikariPool-2 - Start completed.
""2021-05-31 22:31:27 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:31:27 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:31:27 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:28 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:31:28 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65a7bc80, org.springframework.security.web.context.SecurityContextPersistenceFilter@63f819a6, org.springframework.security.web.header.HeaderWriterFilter@6441db2c, org.springframework.security.web.authentication.logout.LogoutFilter@4f3672eb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6dd59886, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44f5259a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e871e93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b132063, org.springframework.security.web.session.SessionManagementFilter@218c6d3e, org.springframework.security.web.access.ExceptionTranslationFilter@65384249, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@52984065]
""2021-05-31 22:31:28 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:28 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:31:28 - Initializing Servlet ''
""2021-05-31 22:31:28 - Completed initialization in 1 ms
""2021-05-31 22:31:28 - Started AccountControllerMvcTest in 1.849 seconds (JVM running for 8.878)
""2021-05-31 22:31:30 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:31:30 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75926 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:31:30 - No active profile set, falling back to default profiles: default
""2021-05-31 22:31:30 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:31:30 - Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:31:30 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:31:30 - HikariPool-3 - Starting...
""2021-05-31 22:31:30 - HikariPool-3 - Start completed.
""2021-05-31 22:31:30 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:31:30 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:31:30 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:31 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:31:31 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c2406dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@42bb0492, org.springframework.security.web.header.HeaderWriterFilter@1ca6323c, org.springframework.security.web.authentication.logout.LogoutFilter@3a5922ec, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b71ccf2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6eed5b68, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4377b35b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23e0ef68, org.springframework.security.web.session.SessionManagementFilter@27b89e0a, org.springframework.security.web.access.ExceptionTranslationFilter@3d123d10, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43c25e89]
""2021-05-31 22:31:31 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:31 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:31:31 - Initializing Servlet ''
""2021-05-31 22:31:31 - Completed initialization in 2 ms
""2021-05-31 22:31:31 - Started MainControllerMvcTest in 1.85 seconds (JVM running for 11.953)
""2021-05-31 22:31:31 - Main page
""2021-05-31 22:31:32 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 75926 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:31:32 - No active profile set, falling back to default profiles: default
""2021-05-31 22:31:32 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:31:32 - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:31:32 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:31:32 - HikariPool-4 - Starting...
""2021-05-31 22:31:32 - HikariPool-4 - Start completed.
""2021-05-31 22:31:32 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:31:32 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:31:32 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:32 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:31:33 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@627a1c77, org.springframework.security.web.context.SecurityContextPersistenceFilter@289a70a, org.springframework.security.web.header.HeaderWriterFilter@43e6bcfd, org.springframework.security.web.authentication.logout.LogoutFilter@411c5fa2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4df50829, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2461b519, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5216e43c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1acfb04c, org.springframework.security.web.session.SessionManagementFilter@361d56a3, org.springframework.security.web.access.ExceptionTranslationFilter@57ae3c0e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42ea4bac]
""2021-05-31 22:31:33 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:33 - Started UserServiceTest in 1.366 seconds (JVM running for 13.538)
""2021-05-31 22:31:33 - Tour Best Tour was saved
""2021-05-31 22:31:33 - SQL Error: 0, SQLState: 23505
""2021-05-31 22:31:33 - ERROR: duplicate key value violates unique constraint "tour_pkey"
  Подробности: Key (id)=(3) already exists.
""2021-05-31 22:31:34 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:34 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:34 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:34 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:31:34 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:34 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:34 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:34 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:31:34 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:31:34 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:31:34 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:31:34 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:31:34 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:31:34 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:31:34 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:31:34 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:35:41 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 76818 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:35:41 - No active profile set, falling back to default profiles: default
""2021-05-31 22:35:42 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:35:42 - Finished Spring Data repository scanning in 59 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:35:43 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:35:43 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:35:43 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:35:43 - HikariPool-1 - Starting...
""2021-05-31 22:35:43 - HikariPool-1 - Start completed.
""2021-05-31 22:35:43 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:35:43 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:35:43 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:44 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:35:44 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f838072, org.springframework.security.web.context.SecurityContextPersistenceFilter@2aac87ab, org.springframework.security.web.header.HeaderWriterFilter@7b6b466a, org.springframework.security.web.authentication.logout.LogoutFilter@745c8a04, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f7a65e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0c04ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9ae0794, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46c9ee28, org.springframework.security.web.session.SessionManagementFilter@2e5c7cd5, org.springframework.security.web.access.ExceptionTranslationFilter@9c5d76b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a2815cc]
""2021-05-31 22:35:45 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:45 - Started CreditCardServiceTest in 4.635 seconds (JVM running for 6.05)
""2021-05-31 22:35:45 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 76818 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:35:45 - No active profile set, falling back to default profiles: default
""2021-05-31 22:35:45 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:35:45 - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:35:46 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:35:46 - HikariPool-2 - Starting...
""2021-05-31 22:35:46 - HikariPool-2 - Start completed.
""2021-05-31 22:35:46 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:35:46 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:35:46 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:46 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:35:46 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54972f9a, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bb7fc38, org.springframework.security.web.header.HeaderWriterFilter@22825762, org.springframework.security.web.authentication.logout.LogoutFilter@7a8e35d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1dd4c691, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27ea7c8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17e31657, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1abb719a, org.springframework.security.web.session.SessionManagementFilter@34e7a627, org.springframework.security.web.access.ExceptionTranslationFilter@4f3672eb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1001b435]
""2021-05-31 22:35:46 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:46 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:35:46 - Initializing Servlet ''
""2021-05-31 22:35:46 - Completed initialization in 1 ms
""2021-05-31 22:35:46 - Started AccountControllerMvcTest in 1.205 seconds (JVM running for 7.32)
""2021-05-31 22:35:47 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:35:47 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 76818 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:35:47 - No active profile set, falling back to default profiles: default
""2021-05-31 22:35:48 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:35:48 - Finished Spring Data repository scanning in 13 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:35:48 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:35:48 - HikariPool-3 - Starting...
""2021-05-31 22:35:48 - HikariPool-3 - Start completed.
""2021-05-31 22:35:48 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:35:48 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:35:48 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:48 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:35:48 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53628ff6, org.springframework.security.web.context.SecurityContextPersistenceFilter@40f88929, org.springframework.security.web.header.HeaderWriterFilter@3a5922ec, org.springframework.security.web.authentication.logout.LogoutFilter@104972a0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1ff55410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18a9762, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72378bfd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@505e8d48, org.springframework.security.web.session.SessionManagementFilter@3e6b08d4, org.springframework.security.web.access.ExceptionTranslationFilter@20dc2df1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b4a77be]
""2021-05-31 22:35:48 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:48 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:35:48 - Initializing Servlet ''
""2021-05-31 22:35:48 - Completed initialization in 1 ms
""2021-05-31 22:35:48 - Started MainControllerMvcTest in 1.05 seconds (JVM running for 9.394)
""2021-05-31 22:35:48 - Main page
""2021-05-31 22:35:49 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 76818 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:35:49 - No active profile set, falling back to default profiles: default
""2021-05-31 22:35:49 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:35:49 - Finished Spring Data repository scanning in 12 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:35:49 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:35:49 - HikariPool-4 - Starting...
""2021-05-31 22:35:49 - HikariPool-4 - Start completed.
""2021-05-31 22:35:49 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:35:49 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:35:49 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:49 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:35:49 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71e740c6, org.springframework.security.web.context.SecurityContextPersistenceFilter@d2eddc2, org.springframework.security.web.header.HeaderWriterFilter@411c5fa2, org.springframework.security.web.authentication.logout.LogoutFilter@4483e237, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ab87cac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13967a64, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30d4d6fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50aa5826, org.springframework.security.web.session.SessionManagementFilter@68fce3e5, org.springframework.security.web.access.ExceptionTranslationFilter@e620893, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d12fa92]
""2021-05-31 22:35:49 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:49 - Started UserServiceTest in 0.922 seconds (JVM running for 10.467)
""2021-05-31 22:35:50 - Tour Best Tour was saved
""2021-05-31 22:35:50 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:50 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:50 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:50 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:35:50 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:50 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:50 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:50 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:35:50 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:35:50 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:35:50 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:35:50 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:35:50 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:35:50 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:35:50 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:35:50 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:38:23 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77371 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:38:23 - No active profile set, falling back to default profiles: default
""2021-05-31 22:38:23 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:38:23 - Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:38:24 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:38:24 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:38:24 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:38:24 - HikariPool-1 - Starting...
""2021-05-31 22:38:24 - HikariPool-1 - Start completed.
""2021-05-31 22:38:25 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:38:25 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:38:25 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:25 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:38:26 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fe0ca60, org.springframework.security.web.context.SecurityContextPersistenceFilter@f252762, org.springframework.security.web.header.HeaderWriterFilter@7ffc4195, org.springframework.security.web.authentication.logout.LogoutFilter@43dddfdd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5eae392d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2aac87ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7533923b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fdf029a, org.springframework.security.web.session.SessionManagementFilter@7b6b466a, org.springframework.security.web.access.ExceptionTranslationFilter@3b590f6a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26728255]
""2021-05-31 22:38:26 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:27 - Started CreditCardServiceTest in 4.486 seconds (JVM running for 5.937)
""2021-05-31 22:38:27 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77371 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:38:27 - No active profile set, falling back to default profiles: default
""2021-05-31 22:38:27 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:38:27 - Finished Spring Data repository scanning in 18 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:38:27 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:38:27 - HikariPool-2 - Starting...
""2021-05-31 22:38:27 - HikariPool-2 - Start completed.
""2021-05-31 22:38:27 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:38:27 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:38:27 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:27 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:38:27 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b98c80c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e871e93, org.springframework.security.web.header.HeaderWriterFilter@63f819a6, org.springframework.security.web.authentication.logout.LogoutFilter@34e7a627, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b132063, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c2063e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f3672eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a486851, org.springframework.security.web.session.SessionManagementFilter@44f5259a, org.springframework.security.web.access.ExceptionTranslationFilter@218c6d3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65a7bc80]
""2021-05-31 22:38:28 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:28 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:38:28 - Initializing Servlet ''
""2021-05-31 22:38:28 - Completed initialization in 1 ms
""2021-05-31 22:38:28 - Started AccountControllerMvcTest in 1.184 seconds (JVM running for 7.172)
""2021-05-31 22:38:29 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:38:29 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77371 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:38:29 - No active profile set, falling back to default profiles: default
""2021-05-31 22:38:29 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:38:29 - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:38:29 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:38:29 - HikariPool-3 - Starting...
""2021-05-31 22:38:29 - HikariPool-3 - Start completed.
""2021-05-31 22:38:29 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:38:29 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:38:29 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:29 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:38:29 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3da76d3a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7207cb8b, org.springframework.security.web.header.HeaderWriterFilter@3c2406dd, org.springframework.security.web.authentication.logout.LogoutFilter@53628ff6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@36d1ac55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27449f65, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b4a77be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@167da81d, org.springframework.security.web.session.SessionManagementFilter@23e0ef68, org.springframework.security.web.access.ExceptionTranslationFilter@5b71ccf2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37b0a724]
""2021-05-31 22:38:30 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:30 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:38:30 - Initializing Servlet ''
""2021-05-31 22:38:30 - Completed initialization in 1 ms
""2021-05-31 22:38:30 - Started MainControllerMvcTest in 1.072 seconds (JVM running for 9.127)
""2021-05-31 22:38:30 - Main page
""2021-05-31 22:38:30 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77371 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:38:30 - No active profile set, falling back to default profiles: default
""2021-05-31 22:38:30 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:38:30 - Finished Spring Data repository scanning in 11 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:38:30 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:38:30 - HikariPool-4 - Starting...
""2021-05-31 22:38:30 - HikariPool-4 - Start completed.
""2021-05-31 22:38:30 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:38:30 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:38:30 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:30 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:38:31 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@304f4888, org.springframework.security.web.context.SecurityContextPersistenceFilter@18f7a872, org.springframework.security.web.header.HeaderWriterFilter@591b9836, org.springframework.security.web.authentication.logout.LogoutFilter@42fa1554, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3b035d0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61defefb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@648100de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35b97c69, org.springframework.security.web.session.SessionManagementFilter@7b2f18cd, org.springframework.security.web.access.ExceptionTranslationFilter@3df88502, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30b5225b]
""2021-05-31 22:38:31 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:31 - Started UserServiceTest in 0.969 seconds (JVM running for 10.259)
""2021-05-31 22:38:31 - Tour Best Tour was saved
""2021-05-31 22:38:31 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:31 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:31 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:31 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:38:31 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:31 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:31 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:31 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:38:31 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:38:31 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:38:31 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:38:31 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:38:31 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:38:31 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:38:31 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:38:31 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:41:21 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77988 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:41:21 - No active profile set, falling back to default profiles: default
""2021-05-31 22:41:21 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:41:21 - Finished Spring Data repository scanning in 59 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:41:22 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:41:22 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:41:22 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:41:22 - HikariPool-1 - Starting...
""2021-05-31 22:41:23 - HikariPool-1 - Start completed.
""2021-05-31 22:41:23 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:41:23 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:41:23 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:23 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:41:24 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e0f259e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e4636c3, org.springframework.security.web.header.HeaderWriterFilter@74bcf1ab, org.springframework.security.web.authentication.logout.LogoutFilter@15a0f9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49322d04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2123a61c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d33795c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe9adfb, org.springframework.security.web.session.SessionManagementFilter@69356aca, org.springframework.security.web.access.ExceptionTranslationFilter@48126a17, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@af007d6]
""2021-05-31 22:41:24 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:25 - Started CreditCardServiceTest in 4.433 seconds (JVM running for 5.645)
""2021-05-31 22:41:25 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77988 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:41:25 - No active profile set, falling back to default profiles: default
""2021-05-31 22:41:25 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:41:25 - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:41:25 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:41:25 - HikariPool-2 - Starting...
""2021-05-31 22:41:25 - HikariPool-2 - Start completed.
""2021-05-31 22:41:25 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:41:25 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:41:25 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:25 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:41:26 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b98c80c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e871e93, org.springframework.security.web.header.HeaderWriterFilter@63f819a6, org.springframework.security.web.authentication.logout.LogoutFilter@34e7a627, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b132063, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c2063e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f3672eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a486851, org.springframework.security.web.session.SessionManagementFilter@44f5259a, org.springframework.security.web.access.ExceptionTranslationFilter@218c6d3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65a7bc80]
""2021-05-31 22:41:26 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:26 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:41:26 - Initializing Servlet ''
""2021-05-31 22:41:26 - Completed initialization in 1 ms
""2021-05-31 22:41:26 - Started AccountControllerMvcTest in 1.327 seconds (JVM running for 7.032)
""2021-05-31 22:41:27 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:41:27 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77988 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:41:27 - No active profile set, falling back to default profiles: default
""2021-05-31 22:41:28 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:41:28 - Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:41:28 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:41:28 - HikariPool-3 - Starting...
""2021-05-31 22:41:28 - HikariPool-3 - Start completed.
""2021-05-31 22:41:28 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:41:28 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:41:28 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:28 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:41:28 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@588b2d7a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7731504, org.springframework.security.web.header.HeaderWriterFilter@9223122, org.springframework.security.web.authentication.logout.LogoutFilter@23e0ef68, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d821475, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43c25e89, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b71ccf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@656dc20f, org.springframework.security.web.session.SessionManagementFilter@3c2b7322, org.springframework.security.web.access.ExceptionTranslationFilter@5ac3c6cd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2df05bd1]
""2021-05-31 22:41:29 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:29 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:41:29 - Initializing Servlet ''
""2021-05-31 22:41:29 - Completed initialization in 1 ms
""2021-05-31 22:41:29 - Started MainControllerMvcTest in 1.393 seconds (JVM running for 9.749)
""2021-05-31 22:41:29 - Main page
""2021-05-31 22:41:29 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 77988 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:41:29 - No active profile set, falling back to default profiles: default
""2021-05-31 22:41:29 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:41:29 - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:41:29 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:41:29 - HikariPool-4 - Starting...
""2021-05-31 22:41:29 - HikariPool-4 - Start completed.
""2021-05-31 22:41:29 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:41:29 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:41:29 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:29 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:41:30 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40597c95, org.springframework.security.web.context.SecurityContextPersistenceFilter@47bcb545, org.springframework.security.web.header.HeaderWriterFilter@2b2f8cf, org.springframework.security.web.authentication.logout.LogoutFilter@7b2f18cd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71120f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2899745e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3df88502, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7daecd21, org.springframework.security.web.session.SessionManagementFilter@1def2d16, org.springframework.security.web.access.ExceptionTranslationFilter@4095ebff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18a693de]
""2021-05-31 22:41:30 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:30 - Started UserServiceTest in 1.017 seconds (JVM running for 10.932)
""2021-05-31 22:41:30 - Tour Best Tour was saved
""2021-05-31 22:41:30 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:30 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:30 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:30 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:41:30 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:30 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:30 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:30 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:41:30 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:41:30 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:41:30 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:41:30 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:41:30 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:41:30 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:41:30 - HikariPool-2 - Shutdown completed.
""2021-05-31 22:41:30 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:42:50 - Starting CreditCardServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 78311 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:42:50 - No active profile set, falling back to default profiles: default
""2021-05-31 22:42:51 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:42:51 - Finished Spring Data repository scanning in 58 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:42:52 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:42:52 - HHH000412: Hibernate ORM core version 5.4.27.Final
""2021-05-31 22:42:52 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
""2021-05-31 22:42:52 - HikariPool-1 - Starting...
""2021-05-31 22:42:52 - HikariPool-1 - Start completed.
""2021-05-31 22:42:52 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:42:53 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:42:53 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:42:53 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:42:55 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e0f259e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e4636c3, org.springframework.security.web.header.HeaderWriterFilter@74bcf1ab, org.springframework.security.web.authentication.logout.LogoutFilter@15a0f9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49322d04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2123a61c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d33795c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe9adfb, org.springframework.security.web.session.SessionManagementFilter@69356aca, org.springframework.security.web.access.ExceptionTranslationFilter@48126a17, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@af007d6]
""2021-05-31 22:42:55 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:42:56 - Started CreditCardServiceTest in 6.424 seconds (JVM running for 8.029)
""2021-05-31 22:42:56 - Starting AccountControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 78311 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:42:56 - No active profile set, falling back to default profiles: default
""2021-05-31 22:42:57 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:42:57 - Finished Spring Data repository scanning in 26 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:42:57 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:42:57 - HikariPool-2 - Starting...
""2021-05-31 22:42:57 - HikariPool-2 - Start completed.
""2021-05-31 22:42:57 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:42:57 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:42:57 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:42:57 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:42:58 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@597a5ead, org.springframework.security.web.context.SecurityContextPersistenceFilter@951053f, org.springframework.security.web.header.HeaderWriterFilter@37bac0f4, org.springframework.security.web.authentication.logout.LogoutFilter@6441db2c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76a1cc1a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e196238, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f45be6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e763080, org.springframework.security.web.session.SessionManagementFilter@20c55658, org.springframework.security.web.access.ExceptionTranslationFilter@1f031994, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d8a5ec7]
""2021-05-31 22:42:58 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:42:58 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:42:58 - Initializing Servlet ''
""2021-05-31 22:42:58 - Completed initialization in 2 ms
""2021-05-31 22:42:58 - Started AccountControllerMvcTest in 2.07 seconds (JVM running for 10.213)
""2021-05-31 22:43:00 - An internal error occurred while trying to authenticate the user.
"org.springframework.security.authentication.InternalAuthenticationServiceException: UserDetailsService returned null, which is an interface contract violation
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:95)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ua.taras.kushmyruk.RegistrationControllerMvcTest.badCredentials(RegistrationControllerMvcTest.java:86)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
	at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)
	at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
"2021-05-31 22:43:00 - Starting MainControllerMvcTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 78311 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:43:00 - No active profile set, falling back to default profiles: default
""2021-05-31 22:43:00 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:43:00 - Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:43:01 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:43:01 - HikariPool-3 - Starting...
""2021-05-31 22:43:01 - HikariPool-3 - Start completed.
""2021-05-31 22:43:01 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:43:01 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:43:01 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:43:01 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:43:01 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c3920a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@fb69ab1, org.springframework.security.web.header.HeaderWriterFilter@7f8586f9, org.springframework.security.web.authentication.logout.LogoutFilter@7731504, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ff1f872, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ac3c6cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9223122, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12e5f7cb, org.springframework.security.web.session.SessionManagementFilter@248227db, org.springframework.security.web.access.ExceptionTranslationFilter@b0bd567, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5f0c04d2]
""2021-05-31 22:43:01 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:43:02 - Initializing Spring TestDispatcherServlet ''
""2021-05-31 22:43:02 - Initializing Servlet ''
""2021-05-31 22:43:02 - Completed initialization in 1 ms
""2021-05-31 22:43:02 - Started MainControllerMvcTest in 1.746 seconds (JVM running for 13.56)
""2021-05-31 22:43:02 - Main page
""2021-05-31 22:43:02 - Starting UserServiceTest using Java 11.0.4 on MacBook-Pro-Roman-2.local with PID 78311 (started by roman in /Users/roman/IdeaProjects/ehotel)
""2021-05-31 22:43:02 - No active profile set, falling back to default profiles: default
""2021-05-31 22:43:02 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
""2021-05-31 22:43:02 - Finished Spring Data repository scanning in 22 ms. Found 3 JPA repository interfaces.
""2021-05-31 22:43:02 - HHH000204: Processing PersistenceUnitInfo [name: default]
""2021-05-31 22:43:02 - HikariPool-4 - Starting...
""2021-05-31 22:43:02 - HikariPool-4 - Start completed.
""2021-05-31 22:43:02 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
""2021-05-31 22:43:02 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
""2021-05-31 22:43:02 - Initialized JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:43:02 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
""2021-05-31 22:43:03 - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18e7b33e, org.springframework.security.web.context.SecurityContextPersistenceFilter@515c3dd2, org.springframework.security.web.header.HeaderWriterFilter@721384e0, org.springframework.security.web.authentication.logout.LogoutFilter@798ac54d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71a9e31b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@245504d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c9fe061, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b386ba7, org.springframework.security.web.session.SessionManagementFilter@a15e4fd, org.springframework.security.web.access.ExceptionTranslationFilter@6466e599, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bcd497]
""2021-05-31 22:43:03 - Initializing ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:43:03 - Started UserServiceTest in 1.412 seconds (JVM running for 15.152)
""2021-05-31 22:43:03 - Tour Best Tour was saved
""2021-05-31 22:43:04 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:43:04 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:43:04 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:43:04 - Shutting down ExecutorService 'applicationTaskExecutor'
""2021-05-31 22:43:04 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:43:04 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:43:04 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:43:04 - Closing JPA EntityManagerFactory for persistence unit 'default'
""2021-05-31 22:43:04 - HikariPool-4 - Shutdown initiated...
""2021-05-31 22:43:04 - HikariPool-2 - Shutdown initiated...
""2021-05-31 22:43:04 - HikariPool-3 - Shutdown initiated...
""2021-05-31 22:43:04 - HikariPool-1 - Shutdown initiated...
""2021-05-31 22:43:04 - HikariPool-4 - Shutdown completed.
""2021-05-31 22:43:04 - HikariPool-1 - Shutdown completed.
""2021-05-31 22:43:04 - HikariPool-3 - Shutdown completed.
""2021-05-31 22:43:04 - HikariPool-2 - Shutdown completed.
"